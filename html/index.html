<!DOCTYPE html>
<html lang="pt-br">
<head>
    <title>Formulário de Cadastro</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
    <meta charset="UTF-8">
    
</head>
<body>
    <div class="container">
        <h1 class="mt-4">Cadastro do Entrevistado</h1>
        <p>Após iniciar o cadastro, inicia-se o questionário que deve ser respondido integralmente, pois não pode ser retomado posteriormente. O questionário está dividido em três partes:</p>

        <p>Na primeira parte, você terá a oportunidade de arrastar 5 especialidades médicas que mais gosta e 5 que menos gosta.</p>

        <p>Na segunda parte, você encontrará 111 questões com escolhas entre duas alternativas.</p>

        <p>Na terceira parte, serão apresentadas 86 questões nas quais você deve classificar seus gostos e características pessoais arrastando uma barra de 0 a 10.</p>

        <form action="processar.php" method="post" class="mt-4">
            <div class="row">
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="nome">Nome:</label>
                        <input type="text" id="nome" name="nome" class="form-control" required>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="data_nascimento">Data de Nascimento:</label>
                        <input type="date" id="data_nascimento" name="data_nascimento" class="form-control" required>
                    </div>
                </div>
                <div class="form-group">
                    <label for="cpf">CPF:</label>
                    <input type="text" id="cpf" name="cpf" class="form-control" required pattern="\d{3}.\d{3}.\d{3}-\d{2}" placeholder="123.456.789-09">
                </div>
                
                <div class="form-group">
                    <label for="email">E-mail:</label>
                    <input type="email" id="email" name="email" class="form-control" required>
                </div>
                
                <div class="form-group">
                    <label for="telefone">Telefone com DDD:</label>
                    <input type="text" id="telefone" name="telefone" class="form-control" required pattern="\([0-9]{2}\) [0-9]{4,5}-[0-9]{4}" placeholder="(99) 99999-9999">
                </div>
            </div>

            <div class="form-group">
                <label for="instituicao">Instituição de Ensino:</label>
                <input type="text" id="instituicao" name="instituicao" class="form-control" required>
            </div>

            <div class="form-check">
                <input type="checkbox" id="formado" name="formado" value="1" class="form-check-input">
                <label class="form-check-label" for="formado">Formado</label>
            </div>

            <div id="formado_info" style="display: none;">
                <div class="form-group">
                    <label for="ano_conclusao">Ano de Conclusão:</label>
                    <input type="number" id="ano_conclusao" name="ano_conclusao" class="form-control">
                </div>

                <div class="form-group">
                    <label for="especialidade">Especialidade:</label>
                    <input type="text" id="especialidade" name="especialidade" class="form-control">
                </div>
            </div>

            <div id="nao_formado_info" style="display: none;">
                <div class="form-group">
                    <label for="semestre">Semestre que Está Cursando:</label>
                    <input type="text" id="semestre" name="semestre" class="form-control">
                </div>
            </div>
            <div class="form-check">
                <p>Ao clicar em aceitar os termos, declaro que fui devidamente esclarecido(a) e concordo em participar VOLUNTARIAMENTE do projeto de pesquisa, conforme descrito em: <a href="tcle.pdf" target="_blank">TCLE</a> .</p>
                <input type="checkbox" id="aceitar_termos" name="aceitar_termos" class="form-check-input">
                <label class="form-check-label" for="aceitar_termos">Aceitar os termos</label>
            </div>

            <input type="submit" value="Cadastrar" class="btn btn-primary mt-3" id="btnCadastrar" disabled>

            <script>
                  var formadoCheckbox = document.getElementById("formado");
                var formadoInfo = document.getElementById("formado_info");
                var naoFormadoInfo = document.getElementById("nao_formado_info");
                var aceitarTermosCheckbox = document.getElementById("aceitar_termos");
                var btnCadastrar = document.getElementById("btnCadastrar");

                // Exibir o campo "Semestre" por padrão
                naoFormadoInfo.style.display = "block";
                formadoInfo.style.display = "none";

                formadoCheckbox.addEventListener('change', function() {
                    if (formadoCheckbox.checked) {
                        formadoInfo.style.display = "block";
                        naoFormadoInfo.style.display = "none";
                    } else {
                        formadoInfo.style.display = "none";
                        naoFormadoInfo.style.display = "block";
                    }
                });
                aceitarTermosCheckbox.addEventListener('change', function() {
                     btnCadastrar.disabled = !aceitarTermosCheckbox.checked;
                });

                // Função para formatar automaticamente o campo CPF
                
                var cpfInput = document.getElementById("cpf");
                cpfInput.addEventListener("input", function () {
                    var value = cpfInput.value.replace(/\D/g, ""); // Remove todos os caracteres não numéricos
                    if (value.length > 0) {
                        if (value.length <= 11) {
                            value = value.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/, "$1.$2.$3-$4");
                        } else {
                            // Limita o comprimento a 11 dígitos
                            value = value.slice(0, 11);
                        }
                        cpfInput.value = value;
                    }
                });


                // Função para formatar automaticamente o campo de telefone com DDD
                var telefoneInput = document.getElementById("telefone");
                telefoneInput.addEventListener("input", function () {
                    var value = telefoneInput.value.replace(/\D/g, "");
                    if (value.length > 0) {
                        if (value.length <= 10) {
                            value = value.replace(/(\d{2})(\d{4})(\d{4})/, "($1) $2-$3");
                        } else {
                            value = value.replace(/(\d{2})(\d{5})(\d{4})/, "($1) $2-$3");
                        }
                        telefoneInput.value = value;
                    }
                });
            </script>

    </form>
    </div>
</body>
</html>
